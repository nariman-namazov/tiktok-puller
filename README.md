# tiktok-puller
Дана програма стане в нагоді аутистам, які качають багато відео з ТікТока. tiktok-puller вміє тягти відео з більше ніж ТікТока, але назва залишається тою ж з історичних причин.

# Залежності
- Python3 з бібліотекою PyQt5.
- yt-dlp

## Принцип роботи
У центрі самої програми закладено [yt-dlp](https://github.com/yt-dlp/yt-dlp), тому якщо в системі вона відсутня або не знаходиться в `$PATH`, то це варто виправити.

Користувач має надати список посилань на відео в ТікТоці (чи будь-якому іншому сайті, де всі потоки зберігаються в mp4 та m4a), крізь які пройде `yt-dlp` і потягне найліпшу якість. Останнє робиться наступною командою:
```
yt-dlp -S res,ext:mp4:m4a -o "<номер файла>.mp4" "${посилання}"
```

Всі відео завантажуватимуться у одразу кількох потоках, яких у програмі прописано 1000. У Qt5/Пітона є свій механізм для обмеження їх кількості, тож навіть якщо користувач надав тисячу і одне посилання одразу його срака разом з комп'ютером не лусне.

На даний момент програма робить усі кнопки непрацюючими поки хоча б один потік запущено і він виконує свою роботу. Також вона вміє розрізняти повідомлення з помилками і змінювати колір у логах відповідним чином.
![Example](readme/demo.png)

Кнопка Clear використовується для очистки всіх полів окрім того, що з порядковим номером файлів. Поле File count потрібне для того, щоб скрипт знав як називати відео, які він завантажує. Поки що вказати можна лише число, а не текст.

Якщо не подобається іконка програми, її завжди можна змінити руками. Для цього треба видалити поточну іконку (icon.png) і назвати файл з новою icon.png. Програма розраховує, що іконка знаходиться у тій самій папці, що й скрипт Пітона.

**Важливо:** tiktok-puller розроблялася та тестувалася на Лінукс; для запуску команд використовується синтаксис Баша, а тому вона не працюватиме на Віндовс без додаткових змін.

## TODO
- Підтримка Віндовс.
- Переоцінка роботи: замість блоку кнопок під час запуску тредів блокувати тільки при натисканні Clear, коли потоки ще активні.
- Оформити генерацію списку посилань на всі відео, якщо в списку цілей є лише посилання на обліковий запис.
- Потенційно додати підтримку нечислової назви для файлів.

